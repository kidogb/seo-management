(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{ZOrW:function(a,e,t){"use strict";t.r(e);t("14J3");var n,r,s,l=t("BMrR"),i=(t("jCWc"),t("kPKH")),o=(t("qVdP"),t("jsC+")),c=(t("Pwec"),t("CtXQ")),u=(t("lUTK"),t("BvKs")),d=t("2Taf"),p=t.n(d),h=t("vZ4D"),m=t.n(h),f=t("l4Ni"),g=t.n(f),y=t("ujKo"),b=t.n(y),v=t("MhPg"),k=t.n(v),E=t("q1tI"),D=t.n(E),C=t("MuoO"),T=t("v99g"),w=t("+n12"),P=t("lVjH"),x=t.n(P),S=t("xqX8"),j=t("d6i3"),R=t.n(j),O=t("1l/V"),V=t.n(O),K=!1,q=function(){var a=V()(R.a.mark(function a(){return R.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!K){a.next=2;break}return a.abrupt("return",Promise.resolve(!0));case 2:return a.next=4,Promise.all([Object(w["d"])("//gw.alipayobjects.com/os/lib/bizcharts/3.4.3/umd/BizCharts.min.js"),Object(w["d"])("//gw.alipayobjects.com/os/lib/antv/data-set/0.10.1/dist/data-set.min.js")]);case 4:return console.log("bizCharts load success"),K=!0,a.abrupt("return",Promise.resolve(!0));case 7:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),z=function(a){function e(){var a,t;p()(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=g()(this,(a=b()(e)).call.apply(a,[this].concat(r))),t.state={loading:!K},t}return k()(e,a),m()(e,[{key:"componentDidMount",value:function(){var a=V()(R.a.mark(function a(){var e=this;return R.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,q();case 2:requestAnimationFrame(function(){e.setState({loading:!1})});case 3:case"end":return a.stop()}},a)}));function e(){return a.apply(this,arguments)}return e}()},{key:"render",value:function(){var a=this.props.children,e=this.state.loading;return e?D.a.createElement(S["default"],null):a}}]),e}(D.a.Component),A=D.a.lazy(function(){return Promise.all([t.e(0),t.e(37)]).then(t.bind(null,"Y65U"))}),I=D.a.lazy(function(){return Promise.all([t.e(0),t.e(40)]).then(t.bind(null,"20K/"))}),G=D.a.lazy(function(){return Promise.all([t.e(0),t.e(41)]).then(t.bind(null,"b2ve"))}),L=D.a.lazy(function(){return Promise.all([t.e(0),t.e(39)]).then(t.bind(null,"tLGd"))}),B=D.a.lazy(function(){return Promise.all([t.e(0),t.e(38)]).then(t.bind(null,"Jqna"))}),M=(n=Object(C["connect"])(function(a){var e=a.chart,t=a.loading;return{chart:e,loading:t.effects["chart/fetch"]}}),n((s=function(a){function e(){var a,t;p()(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=g()(this,(a=b()(e)).call.apply(a,[this].concat(r))),t.state={salesType:"all",currentTabKey:"",rangePickerValue:Object(w["c"])("year")},t.handleChangeSalesType=function(a){t.setState({salesType:a.target.value})},t.handleTabChange=function(a){t.setState({currentTabKey:a})},t.handleRangePickerChange=function(a){var e=t.props.dispatch;t.setState({rangePickerValue:a}),e({type:"chart/fetchSalesData"})},t.selectDate=function(a){var e=t.props.dispatch;t.setState({rangePickerValue:Object(w["c"])(a)}),e({type:"chart/fetchSalesData"})},t.isActive=function(a){var e=t.state.rangePickerValue,n=Object(w["c"])(a);return e[0]&&e[1]&&e[0].isSame(n[0],"day")&&e[1].isSame(n[1],"day")?x.a.currentDate:""},t}return k()(e,a),m()(e,[{key:"componentDidMount",value:function(){var a=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){a({type:"chart/fetch"})})}},{key:"componentWillUnmount",value:function(){var a=this.props.dispatch;a({type:"chart/clear"}),cancelAnimationFrame(this.reqRef)}},{key:"render",value:function(){var a,e=this.state,t=e.rangePickerValue,n=e.salesType,r=e.currentTabKey,s=this.props,d=s.chart,p=s.loading,h=d.visitData,m=d.visitData2,f=d.salesData,g=d.searchData,y=d.offlineData,b=d.offlineChartData,v=d.salesTypeData,k=d.salesTypeDataOnline,C=d.salesTypeDataOffline;a="all"===n?v:"online"===n?k:C;var w=D.a.createElement(u["a"],null,D.a.createElement(u["a"].Item,null,"\u64cd\u4f5c\u4e00"),D.a.createElement(u["a"].Item,null,"\u64cd\u4f5c\u4e8c")),P=D.a.createElement("span",{className:x.a.iconGroup},D.a.createElement(o["a"],{overlay:w,placement:"bottomRight"},D.a.createElement(c["a"],{type:"ellipsis"}))),j=r||y[0]&&y[0].name;return D.a.createElement(T["a"],null,D.a.createElement(E["Suspense"],{fallback:D.a.createElement(S["default"],null)},D.a.createElement(A,{loading:p,visitData:h})),D.a.createElement(E["Suspense"],{fallback:null},D.a.createElement(I,{rangePickerValue:t,salesData:f,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:p,selectDate:this.selectDate})),D.a.createElement("div",{className:x.a.twoColLayout},D.a.createElement(l["a"],{gutter:24},D.a.createElement(i["a"],{xl:12,lg:24,md:24,sm:24,xs:24},D.a.createElement(E["Suspense"],{fallback:null},D.a.createElement(G,{loading:p,visitData2:m,selectDate:this.selectDate,searchData:g,dropdownGroup:P}))),D.a.createElement(i["a"],{xl:12,lg:24,md:24,sm:24,xs:24},D.a.createElement(E["Suspense"],{fallback:null},D.a.createElement(L,{dropdownGroup:P,salesType:n,loading:p,salesPieData:a,handleChangeSalesType:this.handleChangeSalesType}))))),D.a.createElement(E["Suspense"],{fallback:null},D.a.createElement(B,{activeKey:j,loading:p,offlineData:y,offlineChartData:b,handleTabChange:this.handleTabChange})))}}]),e}(E["Component"]),r=s))||r);e["default"]=function(a){return D.a.createElement(z,null,D.a.createElement(M,a))}},lVjH:function(a,e,t){a.exports={iconGroup:"antd-pro-pages-dashboard-analysis-iconGroup",rankingList:"antd-pro-pages-dashboard-analysis-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-offlineCard",twoColLayout:"antd-pro-pages-dashboard-analysis-twoColLayout",trendText:"antd-pro-pages-dashboard-analysis-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-salesExtraWrap"}}}]);